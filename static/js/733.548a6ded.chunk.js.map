{"version":3,"file":"static/js/733.548a6ded.chunk.js","mappings":"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","sources":["components/CarsList/CarsList.styled.js","components/ModalCar/ModalCar.styled.js","components/ModalCar/ModalCar.jsx","components/CarsList/CarsList.jsx","pages/Favorites/Favorites.jsx","redux/selectors.js"],"sourcesContent":["import { FiHeart } from 'react-icons/fi';\nimport styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  gap: 29px;\n  flex-wrap: wrap;\n`;\n\nexport const Container = styled.div``;\n\nexport const Img = styled.img`\n  width: 100%;\n  height: 268px;\n  border-radius: 14px;\n`;\n\nexport const Item = styled.li`\n  width: 274px;\n  height: 426px;\n  position: relative;\n`;\n\nexport const HeartBtn = styled.button`\nposition: absolute;\n  top: 14px;\n  right: 14px;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  background-color: transparent;\n`;\n\nexport const HeartBtnDel = styled.button`\nposition: absolute;\n  top: 14px;\n  right: 14px;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  background-color: transparent;\n`;\n\n\nexport const Heart = styled(FiHeart)`\n  fill: none;\n  color: white;\n  width: 18px;\n  height: 18px;\n  transition: fill scale 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    scale: 1.1;\n  }\n  &:focus {\n    fill: #3470FF;\n    color: #3470FF;\n   \n  }\n`;\n\nexport const HeartDel = styled(FiHeart)`\n  fill: #3470FF;\n  color: #3470FF;\n  width: 18px;\n  height: 18px;\n  transition: fill scale 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover{\n    scale: 1.1;\n  }\n  &:focus {\n    color: white;\n    fill: none;\n    \n  }\n`;\n\n\nexport const TitleContainer = styled.div`\nmargin-top: 14px;\nmargin-bottom: 8px;\ndisplay: flex;\njustify-content: space-between;\ncolor: #121417;\nfont-size: 16px;\nfont-weight: 500;\nline-height: 1,5%;\n`\n\nexport const MainInfo = styled.div`\ndisplay: flex;\n`\n\nexport const Price = styled.div`\n`\n\nexport const Model = styled.span`\ncolor: #3470FF;\nwhite-space: pre;\n`\n\nexport const Info = styled.div`\ndisplay: flex;\njustify-content: space-between;\n`;\n\nexport const Btn = styled.button`\nmargin-top: 28px;\nwidth: 100%;\nheight: 44px;\npadding: 12px 99px;\njustify-content: center;\nalign-items: center;\nborder: none;\nborder-radius: 12px;\nbackground: #3470FF;\ncolor: white;\nfont-weight: 600;\nline-height: 1.43;\ncursor: pointer;\n&:hover{\n  background: #0B44CD;\n  }\n`","import styled from 'styled-components';\nimport { IoCloseOutline } from 'react-icons/io5';\n\nexport const Backdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(18, 20, 23, 0.5);\n  z-index: 999;\n`;\n\nexport const Modal = styled.div`\n  position: relative;\n  padding-left: 35px;\n  padding-right: 37px;\n  width: 541px;\n  height: 752px;\n  border-radius: 10px;\n  top: 50%;\n  left: 50%;\n  overflow-y: auto;\n  transform: translate(-50%, -50%) scale(1);\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 24px;\n`;\n\nexport const ButtonClose = styled.button`\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  display: block;\n  padding: 2px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n  transform: scale(1);\n  transition: transform 100ms linear;\n\n  &:hover,\n  &:focus {\n    transform: scale(1.1);\n  }\n`;\n\nexport const ButtonCloseIcon = styled(IoCloseOutline)`\n  width: 24px;\n  height: 24px;\n  display: block;\n`;\n","import { useEffect, useRef } from 'react';\nimport { Backdrop, ButtonClose, ButtonCloseIcon, Modal } from './ModalCar.styled';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectAdverts } from '../../redux/selectors';\nimport { fetchAdvertbyId } from '../../redux/adverts/operations';\n\nexport const ModalCar = ({ onClose, advertId}) => {\n  const backdropRef = useRef(null);\n  const adverts = useSelector(selectAdverts);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchAdvertbyId(advertId));\n  }, [dispatch, advertId]);\n\nconsole.log(adverts);\n\n  useEffect(() => {\n    const handleClick = e => {\n      if (e.target === backdropRef.current) {\n        onClose();\n      }\n    };\n\n    const handleKeydown = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    const backdrop = backdropRef.current;\n    if (backdrop) {\n      document.addEventListener('keydown', handleKeydown);\n      backdrop.addEventListener('click', handleClick);\n    }\n\n    return () => {\n      if (backdrop) {\n        backdrop.removeEventListener('click', handleClick);\n        document.removeEventListener('keydown', handleKeydown);\n      }\n    };\n  }, [onClose]);\n\n  return (\n    <Backdrop ref={backdropRef}>\n      <Modal>\n      <ButtonClose type=\"button\" onClick={onClose}>\n        <ButtonCloseIcon />\n      </ButtonClose>\n      </Modal>\n    </Backdrop>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  Btn,\n  Heart,\n  HeartBtn,\n  HeartBtnDel,\n  HeartDel,\n  Img,\n  Info,\n  Item,\n  List,\n  MainInfo,\n  Model,\n  Price,\n  TitleContainer,\n} from './CarsList.styled';\nimport { addFavorites, deleteFavorites } from '../../redux/adverts/operations';\nimport { ModalCar } from 'components/ModalCar/ModalCar';\n\nexport const CarsList = ({ adverts, favoriteMode, deleteMode }) => {\n  const dispatch = useDispatch();\n  const [modal, setModal] = useState(false);\n  const [activeButtons, setActiveButtons] = useState({});\n  const [selectedCar, setSelectedCar] = useState(null);\n\n  useEffect(() => {\n    const initialActiveButtons = {};\n    adverts.forEach(advert => {\n      initialActiveButtons[advert.car_id] = favoriteMode\n        ? 'favorite'\n        : deleteMode\n        ? 'delete'\n        : 'favorite';\n    });\n    setActiveButtons(initialActiveButtons);\n  }, [adverts, favoriteMode, deleteMode]);\n\n  const handleFavoriteClick = advert => {\n    dispatch(addFavorites(advert));\n    setActiveButtons(prevState => ({\n      ...prevState,\n      [advert.car_id]: 'delete',\n    }));\n  };\n\n  const handleDeleteFavorite = advert => {\n    dispatch(deleteFavorites(advert.id));\n    setActiveButtons(prevState => ({\n      ...prevState,\n      [advert.car_id]: 'favorite',\n    }));\n  };\n\n  const openModal = car => {\n    setSelectedCar(car);\n    setModal(true);\n  };\n\n  const closeModal = () => {\n    setSelectedCar(null);\n    setModal(false);\n  };\n\n  return (\n    <div>\n      <List>\n        {adverts.map(advert => (\n          <Item key={advert.car_id}>\n            <div>\n              <Img src={advert.img} alt=\"car\" />\n            </div>\n            <TitleContainer>\n              <MainInfo>\n                {advert.make} {' '}\n               <Model> {advert.model}</Model>, {' '} \n                {advert.year} \n              </MainInfo>\n              <Price>{advert.rentalPrice}</Price>\n            </TitleContainer>\n            <Info>\n            {advert.address} \n            {advert.rentalCompany}\n            {advert.type}\n            {advert.model}\n            {advert.car_id}\n            </Info>\n            {activeButtons[advert.car_id] === 'favorite' && (\n              <HeartBtn onClick={() => handleFavoriteClick(advert)}>\n                <Heart />\n              </HeartBtn>\n            )}\n            {activeButtons[advert.car_id] === 'delete' && (\n              <HeartBtnDel onClick={() => handleDeleteFavorite(advert)}>\n                <HeartDel />\n              </HeartBtnDel>\n            )}\n            <Btn onClick={() => openModal(advert)}>Learn more</Btn>\n          </Item>\n        ))}\n      {modal && <ModalCar car={selectedCar} onClose={closeModal} advertId={selectedCar.id}/>}\n      </List>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectFavororiteItems } from '../../redux/selectors';\nimport { fetchFavorites } from '../../redux/adverts/operations';\nimport { CarsList } from 'components/CarsList/CarsList';\n\nconst Favorites = () => {\n  const dispatch = useDispatch();\n  const adverts = useSelector(selectFavororiteItems);\n\n  useEffect(() => {\n    dispatch(fetchFavorites());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <CarsList adverts={adverts} deleteMode />\n    </div>\n  );\n};\n\nexport default Favorites;\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const selectAdverts = state => state.adverts.items;\n\nexport const selectFavororiteItems = state => state.adverts.favororiteItems;\n\nexport const selectIsLoading = state => state.adverts.isLoading;\n\nexport const selectError = state => state.adverts.error;\n\nexport const selectSelectedOption = state => state.filters.selectedOption;\n\nexport const selectVisibleItems = createSelector(\n    [selectAdverts, selectSelectedOption],\n    (adverts, filters) => {\n        return adverts.filter(advert => advert.make.toLowerCase()\n            .includes(filters.toLowerCase())\n  );\n})\n"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","Img","_templateObject2","_templateObject3","Item","_templateObject4","HeartBtn","_templateObject5","HeartBtnDel","_templateObject6","Heart","FiHeart","_templateObject7","HeartDel","_templateObject8","TitleContainer","_templateObject9","MainInfo","_templateObject10","Price","_templateObject11","Model","_templateObject12","Info","_templateObject13","Btn","_templateObject14","Backdrop","Modal","ButtonClose","ButtonCloseIcon","IoCloseOutline","ModalCar","_ref","onClose","advertId","backdropRef","useRef","adverts","useSelector","selectAdverts","dispatch","useDispatch","useEffect","fetchAdvertbyId","console","log","handleClick","e","target","current","handleKeydown","key","backdrop","document","addEventListener","removeEventListener","_jsx","ref","children","type","onClick","CarsList","favoriteMode","deleteMode","_useState","useState","_useState2","_slicedToArray","modal","setModal","_useState3","_useState4","activeButtons","setActiveButtons","_useState5","_useState6","selectedCar","setSelectedCar","initialActiveButtons","forEach","advert","car_id","_jsxs","map","src","img","alt","make","model","year","rentalPrice","address","rentalCompany","addFavorites","prevState","_objectSpread","_defineProperty","handleFavoriteClick","deleteFavorites","id","handleDeleteFavorite","car","selectFavororiteItems","fetchFavorites","state","items","favororiteItems","selectSelectedOption","filters","selectedOption","selectVisibleItems","createSelector","filter","toLowerCase","includes"],"sourceRoot":""}